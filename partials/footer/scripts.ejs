<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script src="/theme/IG_Academy/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="/theme/IG_Academy/vendor/bootstrap/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
<script src="/theme/IG_Academy/js/app.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>


<script>
    $(document).ready(function () {
      $('.select2').select2({
        placeholder: "Select Level",
        allowClear: true,
      });

      $('#sub-level-teacher').select2({
        placeholder: "Select Sub Level",
      allowClear: true,
      templateSelection: function (data) {
        // Customize how selected tags appear
        if (!data.id) {
          return data.text; // Show placeholder
        }
        return $(
          `<span style="background-color: #6d02ab; color: #fff; padding: 3px 8px; border-radius: 4px;">${data.text}</span>`
        );
      },
      templateResult: function (data) {
        // Customize how dropdown options appear (optional)
        return data.text;
      },
      escapeMarkup: function (markup) {
        return markup; // Allows rendering HTML in templates
      },
      })

      $('#subject').select2({
      placeholder: "Select Subjects",
      allowClear: true,
      templateSelection: function (data) {
        // Customize how selected tags appear
        if (!data.id) {
          return data.text; // Show placeholder
        }
        return $(
          `<span style="background-color: #6d02ab; color: #fff; padding: 3px 8px; border-radius: 4px;">${data.text}</span>`
        );
      },
      templateResult: function (data) {
        // Customize how dropdown options appear (optional)
        return data.text;
      },
      escapeMarkup: function (markup) {
        return markup; // Allows rendering HTML in templates
      },
    }); 

    $('#search-province').select2({
      placeholder: "Select Province",
      allowClear: true,
      templateSelection: function (data) {
        // Customize how selected tags appear
        if (!data.id) {
          return data.text; // Show placeholder
        }
        return $(
          `<span style="background-color: #6d02ab; color: #fff; padding: 3px 8px; border-radius: 4px;">${data.text}</span>`
        );
      },
      templateResult: function (data) {
        // Customize how dropdown options appear (optional)
        return data.text;
      },
      escapeMarkup: function (markup) {
        return markup; // Allows rendering HTML in templates
      },
    }); 

    $('#student-province').select2({
      placeholder: "Select Province",
      allowClear: true,
      templateSelection: function (data) {
        // Customize how selected tags appear
        if (!data.id) {
          return data.text; // Show placeholder
        }
        return $(
          `<span style="background-color: #6d02ab; color: #fff; padding: 3px 8px; border-radius: 4px;">${data.text}</span>`
        );
      },
      templateResult: function (data) {
        // Customize how dropdown options appear (optional)
        return data.text;
      },
      escapeMarkup: function (markup) {
        return markup; // Allows rendering HTML in templates
      },
    }); 

    $('#teacher-province').select2({
      placeholder: "Select Province",
      allowClear: true,
      templateSelection: function (data) {
        // Customize how selected tags appear
        if (!data.id) {
          return data.text; // Show placeholder
        }
        return $(
          `<span style="background-color: #6d02ab; color: #fff; padding: 3px 8px; border-radius: 4px;">${data.text}</span>`
        );
      },
      templateResult: function (data) {
        // Customize how dropdown options appear (optional)
        return data.text;
      },
      escapeMarkup: function (markup) {
        return markup; // Allows rendering HTML in templates
      },
    }); 

    $('#search-district').select2({
      placeholder: "Select District",
      allowClear: true,
      templateSelection: function (data) {
        // Customize how selected tags appear
        if (!data.id) {
          return data.text; // Show placeholder
        }
        return $(
          `<span style="background-color: #6d02ab; color: #fff; padding: 3px 8px; border-radius: 4px;">${data.text}</span>`
        );
      },
      templateResult: function (data) {
        // Customize how dropdown options appear (optional)
        return data.text;
      },
      escapeMarkup: function (markup) {
        return markup; // Allows rendering HTML in templates
      },
    }); 

    $('#student-district').select2({
      placeholder: "Select District",
      allowClear: true,
      templateSelection: function (data) {
        // Customize how selected tags appear
        if (!data.id) {
          return data.text; // Show placeholder
        }
        return $(
          `<span style="background-color: #6d02ab; color: #fff; padding: 3px 8px; border-radius: 4px;">${data.text}</span>`
        );
      },
      templateResult: function (data) {
        // Customize how dropdown options appear (optional)
        return data.text;
      },
      escapeMarkup: function (markup) {
        return markup; // Allows rendering HTML in templates
      },
    }); 

    $('#search-municipality').select2({
      placeholder: "Select Municipality",
      allowClear: true,
      templateSelection: function (data) {
        // Customize how selected tags appear
        if (!data.id) {
          return data.text; // Show placeholder
        }
        return $(
          `<span style="background-color: #6d02ab; color: #fff; padding: 3px 8px; border-radius: 4px;">${data.text}</span>`
        );
      },
      templateResult: function (data) {
        // Customize how dropdown options appear (optional)
        return data.text;
      },
      escapeMarkup: function (markup) {
        return markup; // Allows rendering HTML in templates
      },
    }); 

    $('#search-location').select2({
      placeholder: "Select Area",
      allowClear: true,
      templateSelection: function (data) {
        // Customize how selected tags appear
        if (!data.id) {
          return data.text; // Show placeholder
        }
        return $(
          `<span style="background-color: #6d02ab; color: #fff; padding: 3px 8px; border-radius: 4px;">${data.text}</span>`
        );
      },
      templateResult: function (data) {
        // Customize how dropdown options appear (optional)
        return data.text;
      },
      escapeMarkup: function (markup) {
        return markup; // Allows rendering HTML in templates
      },
    }); 

    $('#student-location').select2({
      placeholder: "Select Location",
      allowClear: true,
      templateSelection: function (data) {
        // Customize how selected tags appear
        if (!data.id) {
          return data.text; // Show placeholder
        }
        return $(
          `<span style="background-color: #6d02ab; color: #fff; padding: 3px 8px; border-radius: 4px;">${data.text}</span>`
        );
      },
      templateResult: function (data) {
        // Customize how dropdown options appear (optional)
        return data.text;
      },
      escapeMarkup: function (markup) {
        return markup; // Allows rendering HTML in templates
      },
    }); 

    $('#teacher-location').select2({
      placeholder: "Select Location",
      allowClear: true,
      templateSelection: function (data) {
        // Customize how selected tags appear
        if (!data.id) {
          return data.text; // Show placeholder
        }
        return $(
          `<span style="background-color: #6d02ab; color: #fff; padding: 3px 8px; border-radius: 4px;">${data.text}</span>`
        );
      },
      templateResult: function (data) {
        // Customize how dropdown options appear (optional)
        return data.text;
      },
      escapeMarkup: function (markup) {
        return markup; // Allows rendering HTML in templates
      },
    }); 

    $('#subject-student').select2({
      placeholder: "Select Subjects",
      allowClear: true,
      templateSelection: function (data) {
        // Customize how selected tags appear
        if (!data.id) {
          return data.text; // Show placeholder
        }
        return $(
          `<span style="background-color: #6d02ab; color: #fff; padding: 3px 8px; border-radius: 4px;">${data.text}</span>`
        );
      },
      templateResult: function (data) {
        // Customize how dropdown options appear (optional)
        return data.text;
      },
      escapeMarkup: function (markup) {
        return markup; // Allows rendering HTML in templates
      },
    }); 

    $('#level-student').select2({
      placeholder: "Select Level",
      allowClear: true,
      templateSelection: function (data) {
        // Customize how selected tags appear
        if (!data.id) {
          return data.text; // Show placeholder
        }
        return $(
          `<span style="background-color: #6d02ab; color: #fff; padding: 3px 8px; border-radius: 4px;">${data.text}</span>`
        );
      },
      templateResult: function (data) {
        // Customize how dropdown options appear (optional)
        return data.text;
      },
      escapeMarkup: function (markup) {
        return markup; // Allows rendering HTML in templates
      },
    }); 
    
    $('#subject-teacher').select2({
      placeholder: "Select Subjects",
      allowClear: true,
      templateSelection: function (data) {
        // Customize how selected tags appear
        if (!data.id) {
          return data.text; // Show placeholder
        }
        return $(
          `<span style="background-color: #6d02ab; color: #fff; padding: 3px 8px; border-radius: 4px;">${data.text}</span>`
        );
      },
      templateResult: function (data) {
        // Customize how dropdown options appear (optional)
        return data.text;
      },
      escapeMarkup: function (markup) {
        return markup; // Allows rendering HTML in templates
      },
    }); 

    $('#level-teacher').select2({
      placeholder: "Select Level",
      allowClear: true,
      templateSelection: function (data) {
        // Customize how selected tags appear
        if (!data.id) {
          return data.text; // Show placeholder
        }
        return $(
          `<span style="background-color: #6d02ab; color: #fff; padding: 3px 8px; border-radius: 4px;">${data.text}</span>`
        );
      },
      templateResult: function (data) {
        // Customize how dropdown options appear (optional)
        return data.text;
      },
      escapeMarkup: function (markup) {
        return markup; // Allows rendering HTML in templates
      },
    }); 

    $('#subject-teacher').select2({
      placeholder: "Select Subjects",
      allowClear: true,
      templateSelection: function (data) {
        // Customize how selected tags appear
        if (!data.id) {
          return data.text; // Show placeholder
        }
        return $(
          `<span style="background-color: #6d02ab; color: #fff; padding: 3px 8px; border-radius: 4px;">${data.text}</span>`
        );
      },
      templateResult: function (data) {
        // Customize how dropdown options appear (optional)
        return data.text;
      },
      escapeMarkup: function (markup) {
        return markup; // Allows rendering HTML in templates
      },
    }); 

    $('#tutionType').select2({
      placeholder: "Select Type",
      allowClear: true,
      templateSelection: function (data) {
        // Customize how selected tags appear
        if (!data.id) {
          return data.text; // Show placeholder
        }
        return $(
          `<span style="background-color: #6d02ab; color: #fff; padding: 3px 8px; border-radius: 4px;">${data.text}</span>`
        );
      },
      templateResult: function (data) {
        // Customize how dropdown options appear (optional)
        return data.text;
      },
      escapeMarkup: function (markup) {
        return markup; // Allows rendering HTML in templates
      },
    }); 

    });

    

    
  </script>

<script>
 $(document).ready(function () {
  // Fetch provinces data on page load
  $.ajax({
    url: '/api/province', // Backend route
    method: 'GET',
    success: function (data) {
      if (data && Array.isArray(data)) {
        const provinceDropdown = $('#search-province');
        data.forEach((province) => {
          // Capitalize the first letter of the province
          const capitalizedProvince = province.charAt(0).toUpperCase() + province.slice(1);
          provinceDropdown.append(
            `<option value="${province}">${capitalizedProvince}</option>`
          );
        });
      }
    },
    error: function (err) {
      console.error('Error fetching provinces:', err);
    },
  });
});


   // Handle province selection
   $('#search-province').on('change', function () {
  let selectedProvince = $(this).val().trim();
  selectedProvince = selectedProvince.replace(/\s+/g, '-');
  const districtDropdown = $('#search-district');
  const municipalityDropdown = $('#search-municipality');
  const areaDropdown = $('#search-location');

  // Reset district and location dropdowns
  districtDropdown.empty().append('<option value="">Select District</option>').prop('disabled', true);
  municipalityDropdown.empty().append('<option value="">Select Municipality</option>').prop('disabled', true);
  areaDropdown.empty().append('<option value="">Select Area</option>').prop('disabled', true);

  // If a valid province is selected, enable district dropdown and fetch districts
  if (selectedProvince) {
    districtDropdown.prop('disabled', false);
    $.ajax({
      url: `/api/districts/${selectedProvince}`, // Backend route with province parameter
      method: 'GET',
      success: function (data) {
        if (data && Array.isArray(data)) {
          data.forEach((district) => {
            // Capitalize the first letter of the district name
            const capitalizedDistrict = district.charAt(0).toUpperCase() + district.slice(1);
            districtDropdown.append(
              `<option value="${district}">${capitalizedDistrict}</option>`
            );
          });
        }
      },
      error: function (err) {
        console.error('Error fetching districts:', err);
      },
    });
  }
});

    // Handle district selection
    $('#search-district').on('change', function () {
  let selectedDistrict = $(this).val().trim();
  selectedDistrict = selectedDistrict.replace(/\s+/g, '-');
  const municipalityDropdown = $('#search-municipality');
  const areaDropdown = $('#search-location');

  // Reset location dropdown
  municipalityDropdown.empty().append('<option value="">Select Municipality</option>').prop('disabled', true);
  areaDropdown.empty().append('<option value="">Select Area</option>').prop('disabled', true);

  if (selectedDistrict) {
    municipalityDropdown.prop('disabled', false);
    $.ajax({
      url: `/api/municipalities/${selectedDistrict}`,
      method: 'GET',
      success: function (data) {
        if (data && Array.isArray(data)) {
          data.forEach((municipality) => {
            // Capitalize the first letter of the municipality name
            const capitalizedMunicipality = municipality.charAt(0).toUpperCase() + municipality.slice(1);
            municipalityDropdown.append(
              `<option value="${municipality}">${capitalizedMunicipality}</option>`
            );
          });
        }
      },
      error: function (err) {
        console.error('Error fetching municipalities:', err);
      },
    });
  }
});
    // Handle municipality selection
    $('#search-municipality').on('change', function () {
      let selectedMunicipality = $(this).val().trim();
      selectedMunicipality = selectedMunicipality.replace(/\s+/g, '-');
      console.log(selectedMunicipality)
      const areaDropdown = $('#search-location');

      if (selectedMunicipality) {
        areaDropdown.prop('disabled', false);
        $.ajax({
          url: `/api/area/${selectedMunicipality}`,
          method: 'GET',
          success: function (data) {
            if (data && Array.isArray(data)) {
              data.forEach((municipality) => {
                areaDropdown.append(
                  `<option value="${municipality}">${municipality}</option>`
                );
              });
            }
          },
          error: function (err) {
            console.error('Error fetching municipalities:', err);
          },
        });
      }
    });
</script>

<script>
  $(document).ready(function () {
    // Fetch provinces data on page load
    $.ajax({
      url: '/api/province', // Backend route
      method: 'GET',
      success: function (data) {
        if (data && Array.isArray(data)) {
          const provinceDropdown = $('#student-province');
          data.forEach((province) => {
            // Capitalize the first letter of the province
            const capitalizedProvince = province.charAt(0).toUpperCase() + province.slice(1);
            provinceDropdown.append(
              `<option value="${province}">${capitalizedProvince}</option>`
            );
          });
        }
      },
      error: function (err) {
        console.error('Error fetching provinces:', err);
      },
    });

    // Handle province selection
    $('#student-province').on('change', function () {
      const selectedProvince = $(this).val();
      const districtDropdown = $('#student-district');
      const locationDropdown = $('#student-location');

      // Reset district and location dropdowns
      districtDropdown.empty().append('<option value="">Select District</option>').prop('disabled', true);
      locationDropdown.empty().append('<option value="">Select Location</option>').prop('disabled', true);

      // If a valid province is selected, enable district dropdown and fetch districts
      if (selectedProvince) {
        districtDropdown.prop('disabled', false);
        $.ajax({
          url: `/api/districts/${selectedProvince}`, // Backend route with province parameter
          method: 'GET',
          success: function (data) {
            if (data && Array.isArray(data)) {
              data.forEach((district) => {
                // Capitalize the first letter of the district
                const capitalizedDistrict = district.charAt(0).toUpperCase() + district.slice(1);
                districtDropdown.append(
                  `<option value="${district}">${capitalizedDistrict}</option>`
                );
              });
            }
          },
          error: function (err) {
            console.error('Error fetching districts:', err);
          },
        });
      }
    });

    // Handle district selection
    $('#student-district').on('change', function () {
      const selectedDistrict = $(this).val();
      const locationDropdown = $('#student-location');

      // Reset location dropdown
      locationDropdown.empty().append('<option value="">Select Location</option>').prop('disabled', true);

      if (selectedDistrict) {
        locationDropdown.prop('disabled', false);
        $.ajax({
          url: `/api/municipalities/${selectedDistrict}`,
          method: 'GET',
          success: function (data) {
            if (data && Array.isArray(data)) {
              data.forEach((municipality) => {
                // Capitalize the first letter of the municipality
                const capitalizedMunicipality = municipality.charAt(0).toUpperCase() + municipality.slice(1);
                locationDropdown.append(
                  `<option value="${municipality}">${capitalizedMunicipality}</option>`
                );
              });
            }
          },
          error: function (err) {
            console.error('Error fetching municipalities:', err);
          },
        });
      }
    });
  });
</script>


<script>
  $(document).ready(function () {
    // Fetch provinces data on page load
    $.ajax({
      url: '/api/province', // Backend route
      method: 'GET',
      success: function (data) {
        if (data && Array.isArray(data)) {
          const provinceDropdown = $('#teacher-province');
          data.forEach((province) => {
            // Capitalize the first letter of the province
            const capitalizedProvince = province.charAt(0).toUpperCase() + province.slice(1);
            provinceDropdown.append(
              `<option value="${province}">${capitalizedProvince}</option>`
            );
          });
        }
      },
      error: function (err) {
        console.error('Error fetching provinces:', err);
      },
    });

    // Handle province selection
    $('#teacher-province').on('change', function () {
      const selectedProvince = $(this).val();
      const districtDropdown = $('#teacher-district');
      const locationDropdown = $('#teacher-location');

      // Reset district and location dropdowns
      districtDropdown.empty().append('<option value="">Select District</option>').prop('disabled', true);
      locationDropdown.empty().append('<option value="">Select Location</option>').prop('disabled', true);

      // If a valid province is selected, enable district dropdown and fetch districts
      if (selectedProvince) {
        districtDropdown.prop('disabled', false);
        $.ajax({
          url: `/api/districts/${selectedProvince}`, // Backend route with province parameter
          method: 'GET',
          success: function (data) {
            if (data && Array.isArray(data)) {
              data.forEach((district) => {
                // Capitalize the first letter of the district
                const capitalizedDistrict = district.charAt(0).toUpperCase() + district.slice(1);
                districtDropdown.append(
                  `<option value="${district}">${capitalizedDistrict}</option>`
                );
              });
            }
          },
          error: function (err) {
            console.error('Error fetching districts:', err);
          },
        });
      }
    });

    // Handle district selection
    $('#teacher-district').on('change', function () {
      const selectedDistrict = $(this).val();
      const locationDropdown = $('#teacher-location');

      // Reset location dropdown
      locationDropdown.empty().append('<option value="">Select Location</option>').prop('disabled', true);

      if (selectedDistrict) {
        locationDropdown.prop('disabled', false);
        $.ajax({
          url: `/api/municipalities/${selectedDistrict}`,
          method: 'GET',
          success: function (data) {
            if (data && Array.isArray(data)) {
              data.forEach((municipality) => {
                // Capitalize the first letter of the municipality
                const capitalizedMunicipality = municipality.charAt(0).toUpperCase() + municipality.slice(1);
                locationDropdown.append(
                  `<option value="${municipality}">${capitalizedMunicipality}</option>`
                );
              });
            }
          },
          error: function (err) {
            console.error('Error fetching municipalities:', err);
          },
        });
      }
    });
  });
</script>


</body>
</html>